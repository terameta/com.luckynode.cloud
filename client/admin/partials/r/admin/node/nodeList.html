<section class="content-header">
	<h1>
		<i class="fa fa-industry fa-fw"></i> Nodes
		<div class="btn-group" role="group" aria-label="Node List Actions">
			<button type="button" class="btn btn-default btn-sm" ui-sref="r.dashboard.nodenew">New</button>
		</div>
	</h1>
	<ol class="breadcrumb">
		<li><a ui-sref="r.dashboard"><i class="fa fa-dashboard"></i> Dashboard</a></li>
		<li class="active">Nodes</li>
	</ol>
</section>

<section class="content">
<div class="row">
	<table class="table table-striped table-bordered table-hover" ng-if="nodes.length > 0">
		<thead>
			<tr>
				<th>Name</th>
				<th>IP</th>
				<th>DC</th>
				<th>#CPU</th>
				<th>CPU Utilization</th>
				<th>RAM</th>
				<th>RAM Utilization</th>
				<th>Assigned Cores</th>
				<th>Assigned Memory</th>
				<th>Assigned Servers</th>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="node in nodes | orderBy:'name'" ui-sref="r.dashboard.node({id: node._id})" style="cursor:pointer">
				<td>{{node.name}}</td>
				<td>{{node.ip}}</td>
				<td>{{ (dataCenters | filter:{_id: node.datacenter})[0].name || 'Not set' }}</td>
				<td>{{node.stats.cpuCount}}</td>
				<td>{{(node.stats.cpuUsage * 100).toFixed(2)}}%</td>
				<td>{{(node.stats.memTotal / 1024).toFixed(2)}}GB</td>
				<td>{{(node.stats.memUsage * 100).toFixed(2)}}%</td>
				<td>{{node.stats.assignedCores}}</td>
				<td>{{(node.stats.assignedMemory / 1024).toFixed(2)}}GB</td>
				<td>{{node.stats.assignedServers}}</td>
			</tr>
		</tbody>
	</table>
</div>
</section>