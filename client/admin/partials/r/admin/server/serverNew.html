<section class="content-header">
	<h1>
		<i class="fa fa-server fa-fw"></i> New Server
	</h1>
	<ol class="breadcrumb">
		<li><a ui-sref="r.dashboard"><i class="fa fa-home"></i> Dashboard</a></li>
		<li><a ui-sref="r.dashboard.servers">Servers</a></li>
		<li class="active">New Server</li>
	</ol>
</section>

<section class="content">
<div class="panel panel-info" style="margin:0;padding:0">
	<div class="panel-body" style="padding-top:30px;">
		<button ng-repeat="plan in plans | orderBy:'order'" type="button" class="btn btn-default btn-sm" style="margin:10px;margin-left:0px;" ng-click="applyPlan(plan)"
			uib-tooltip="
				CPU:{{plan.cpu}} |
				RAM:{{plan.ram}}M |
				HDD:{{plan.hdd}}G |
				Bandwidth: {{plan.bandwidth}}G
			"
		>
			Apply {{plan.name}}
		</button>
		<div ng-if="servernewalert" class="alert alert-danger alert-sm col-sm-12">{{servernewalert}}</div>
		<form id="newserverform" class="form-horizontal" role="form" ng-submit="addServer(_name, _cpu, _hdd, _ram, _swap, _bandwidth, _dc, _node, _ip)">
			<div class="input-group" style="margin-bottom:2px;">
				<span class="input-group-addon" style="min-width:200px;text-align:left;">Name*</span>
				<input type="text" ng-model="newserver._name" placeholder="please enter server name" class="form-control" />
			</div>
			<div class="input-group" style="margin-bottom:2px;">
				<span class="input-group-addon" style="min-width:200px;text-align:left;">CPU*</span>
				<input type="text" ng-model="newserver._cpu" placeholder="###" class="form-control" />
				<span class="input-group-addon" style="min-width:200px;text-align:left;">cores</span>
			</div>
			<div class="input-group" style="margin-bottom:2px;">
				<span class="input-group-addon" style="min-width:200px;text-align:left;">HDD Space*</span>
				<input type="text" ng-model="newserver._hdd" placeholder="###" class="form-control" />
				<span class="input-group-addon" style="min-width:200px;text-align:left;">GB</span>
			</div>
			<div class="input-group" style="margin-bottom:2px;">
				<span class="input-group-addon" style="min-width:200px;text-align:left;">RAM*</span>
				<input type="text" ng-model="newserver._ram" placeholder="###" class="form-control" />
				<span class="input-group-addon" style="min-width:200px;text-align:left;">MB</span>
			</div>
			<div class="input-group" style="margin-bottom:2px;">
				<span class="input-group-addon" style="min-width:200px;text-align:left;">Bandwidth*</span>
				<input type="text" ng-model="newserver._bandwidth" placeholder="###" class="form-control" />
				<span class="input-group-addon" style="min-width:200px;text-align:left;">GB</span>
			</div>
			<div class="input-group" style="margin-bottom:2px;">
				<span class="input-group-addon" style="min-width:200px;text-align:left;">Base Image*</span>
				<select class="form-control" ng-model="newserver._image" ng-options="image._id as image.name for image in images | orderBy: 'name'">
					<option value="" selected="selected">Empty Disk</option>
				</select>
			</div>
			<div class="input-group" style="margin-bottom:2px;">
				<span class="input-group-addon" style="min-width:200px;text-align:left;">Data Center*</span>
				<select class="form-control" ng-model="newserver._dc" ng-options="dataCenter.name group by dataCenter.location for dataCenter in dataCenters track by dataCenter._id">
				</select>
			</div>
			<div class="input-group" style="margin-bottom:2px;">
				<span class="input-group-addon" style="min-width:200px;text-align:left;">Node*</span>
				<select class="form-control" ng-model="newserver._node" ng-options="node.name for node in nodes | filter: {datacenter: newserver._dc._id}" ng-disabled="!newserver._dc">
					<option value="" selected="selected">Auto Select</option>
				</select>
			</div>
			<div class="input-group" style="margin-bottom:2px;">
				<span class="input-group-addon" style="min-width:200px;text-align:left;">IP*</span>
				<select class="form-control" ng-model="newserver._ip" ng-options="curip.ip for curip in listofAllIPs | filter: filterIPList | orderBy: 'ip'" ng-disabled="!newserver._dc">
					<option value="" selected="selected">Auto Select</option>
				</select>
			</div>
			<div style="margin-top:10px" class="form-group">
				<div class="col-sm-12 controls">
					<button type="submit" class="btn btn-success btn-sm">Create</button>
					<button type="button" ng-click="cancelServerAdd()" class="btn btn-danger btn-sm">Cancel</button>
				</div>
			</div>
		</form>
	</div>
</div>

</section>